<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SignUp</title>
  <style>
    body {
      margin: 50px;
      font-family: 'Segoe UI', sans-serif;
      background: #e6f2ff;
      display: flex;
      justify-content: center;
      align-items: center;
      
    }
    .container {
      display: flex;
      width: 800px;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }


    .img_div img {
      width: 400px;
      height: auto;
    }

    .form_R {
      width: 100%;
      padding: 40px 30px;
      background: #fff;
      position: relative;
      
    }

    h2 {
      font-size: 24px;
      color: #3c3c8d;
      margin-bottom: 30px;
    }

    form input {
      display: block;
      width: 100%;
      margin-bottom: 15px;
      padding: 10px;
      border: none;
      border-bottom: 1px solid #ccc;
      font-size: 14px;
    }

    .btn_Account {
      margin-top: 20px;
      padding: 10px;
      width: 100%;
      background: none;
      border: 2px solid #3c3c8d;
      color: #3c3c8d;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }

    .btn_Account:hover {
      background: #3c3c8d;
      color: white;
    }

    .login-text {
      margin-top: 15px;
      font-size: 14px;
      color: #333;
    }

    .social-icons {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .social-icons img {
      width: 30px;
      height: 30px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Thẻ div bên trái hiển thị hình ảnh -->
  <div class="img_div">
    <img src="../pictures/signUp.png" alt="ảnh đăng kí">
  </div>

  <!-- Thẻ div bên phải chứa form -->
  <div class="form_R">
    <!-- Nếu cần thêm logo cho vô đây -->
    <h2>CREATE ACCOUNT</h2>
    <form>
      <input type="text" placeholder="First name"> 
      <input type="text" placeholder="Last name">
      <input type="email" placeholder="Email">
      <input type="password" placeholder="Password">
      <input type="password" placeholder="Confirm Password">
      <button class="btn_Account">CREATE ACCOUNT</button>
    </form>
    <p class="login-text">Already registered? <a href="Login.html">Login</a></p>
    <div class="social-icons">
      <img src="https://cdn-icons-png.flaticon.com/512/281/281764.png" alt="Google">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook">
    </div>
  </div>
</div>
 <script>
  function handleSignup() {
    const firstName = document.querySelector('input[placeholder="First name"]').value.trim();
    const lastName = document.querySelector('input[placeholder="Last name"]').value.trim();
    const email = document.querySelector('input[placeholder="Email"]').value.trim();
    const password = document.querySelector('input[placeholder="Password"]').value;
    const confirmPassword = document.querySelector('input[placeholder="Confirm Password"]').value;

    // Kiểm tra rỗng
    if (!firstName || !lastName || !email || !password || !confirmPassword) {
      alert('Vui lòng điền đầy đủ thông tin!');
      return;
    }

    // Kiểm tra email hợp lệ
    if (!/^S+@S+.S+$/ .test(email)) {
    // Kiểm tra email hợp lệ
    if (!/^S+@S+.S+$/ .test(email)) {
      alert(047Email không hợp lệ!047);
      return;
    }

    // Kiểm tra mật khẩu trùng
    if (password !== confirmPassword) {
      alert(047Mật khẩu xác nhận không khớp!047);
      return;
    }
    
    // Kiểm tra độ dài mật khẩu
    if (password.length < 6) {
      alert(047Mật khẩu phải có ít nhất 6 ký tự!047);
      return;
    }

    // Lấy danh sách người dùng hiện có
    const users = JSON.parse(localStorage.getItem('users')) || [];

    // Kiểm tra email đã tồn tại chưa
    if (users.some(u => u.email === email)) {
      alert('Email này đã được đăng ký!');
      return;
    }

    // Tạo tài khoản mới
    const newUser = {
      taikhoan: email.split('@')[0], // Tạo tên tài khoản từ email
      hoten: `${firstName} ${lastName}`,
      email,
      password,
      quyen: 'user', // Mặc định là user, admin sẽ được cấp sau
      status: 'active'
    };

    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));
    alert('Đăng ký thành công! Bạn có thể đăng nhập ngay.');
    window.location.href = 'Login.html'; // Chuyển sang trang login
  }

  // Gắn sự kiện khi nhấn nút "CREATE ACCOUNT"
  document.querySelector('.btn_Account').addEventListener('click', function(e) {
    e.preventDefault(); // Ngăn reload trang do form submit
    handleSignup();
  });
</script>
</body>
</html>
